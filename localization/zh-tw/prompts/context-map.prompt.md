---
agent: 'agent'
tools: ['codebase']
description: '在進行變更前產生所有與任務相關檔案的地圖'
---

# 上下文地圖 (Context Map)

在實作任何變更之前，分析程式碼庫並建立一個上下文地圖。

## 任務

{{task_description}}

## 指引

1. 在程式碼庫中搜尋與此任務相關的檔案
2. 識別直接相依性 (匯入/匯出)
3. 尋找相關測試
4. 在現有程式碼中尋找類似模式

## 輸出格式

```markdown
## 上下文地圖 (Context Map)

### 待修改檔案
| 檔案 | 目的 | 所需變更 |
|------|---------|----------------|
| path/to/file | 說明 | 什麼變更 |

### 相依性 (可能需要更新)
| 檔案 | 關係 |
|------|--------------|
| path/to/dep | 從被修改檔案中匯入 X |

### 測試檔案
| 測試 | 涵蓋範圍 |
|------|----------|
| path/to/test | 測試受影響的功能 |

### 參考模式
| 檔案 | 模式 |
|------|---------|
| path/to/similar | 欲遵循的範例 |

### 風險評估
- [ ] 對公開 API 的破壞性變更 (Breaking changes)
- [ ] 需要資料庫遷移 (Database migrations)
- [ ] 需要變更配置 (Configuration)
```

在此地圖經過檢視之前，請勿繼續進行實作。
