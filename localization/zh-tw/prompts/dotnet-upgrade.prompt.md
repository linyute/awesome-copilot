---
name: ".NET 升級分析提示"
description: "用於全面 .NET 框架升級分析和執行的即用型提示"
prompts:
---

  # 專案探索與評估
  - name: "專案分類分析"
    prompt: "識別解決方案中的所有專案，並按類型 (`.NET Framework`、`.NET Core`、`.NET Standard`) 進行分類。分析每個 `.csproj` 的當前 `TargetFramework` 和 SDK 使用情況。"

  - name: "依賴項相容性檢閱"
    prompt: "檢閱框架相容性的外部和內部依賴項。根據依賴項圖深度確定升級複雜性。"

  - name: "舊版套件偵測"
    prompt: "識別需要遷移到 `PackageReference` 格式的舊版 `packages.config` 專案。"

  # 升級策略與排序
  - name: "專案升級排序"
    prompt: "建議從最不依賴到最依賴的元件的專案升級順序。建議如何在 API 或 Azure Function 遷移之前隔離類別函式庫升級。"

  - name: "增量策略規劃"
    prompt: "提出具有回溯檢查點的增量升級策略。根據專案結構評估使用 **Upgrade Assistant** 或 **手動升級**。"

  - name: "進度追蹤設定"
    prompt: "產生升級檢查清單，用於追蹤所有專案的建構、測試和部署準備情況。"

  # 框架目標與程式碼調整
  - name: "目標框架選擇"
    prompt: "建議每個專案的正確 `TargetFramework` (例如，`net8.0`)。檢閱並更新已棄用的 SDK 或建構配置。"

  - name: "程式碼現代化分析"
    prompt: "識別需要現代化的程式碼模式 (例如，`WebHostBuilder` → `HostBuilder`)。建議替換已棄用的 .NET API 和第三方函式庫。"

  - name: "非同步模式轉換"
    prompt: "建議在適當情況下將同步呼叫轉換為非同步，以提高效能和延展性。"

  # NuGet 與依賴項管理
  - name: "套件相容性分析"
    prompt: "分析過時或不相容的 NuGet 套件，並建議相容版本。識別缺乏 .NET 8 支援的第三方函式庫，並提供遷移路徑。"

  - name: "共享依賴項策略"
    prompt: "建議處理跨專案共享依賴項升級的策略。評估舊版套件的使用情況，並建議 Microsoft 支援命名空間中的替代方案。"

  - name: "傳遞依賴項檢閱"
    prompt: "檢閱升級後的傳遞依賴項和潛在的版本衝突。建議解決依賴項衝突的策略。"

  # CI/CD 與建構管線更新
  - name: "管線配置分析"
    prompt: "分析 YAML 建構定義的 SDK 版本固定，並建議更新。建議修改 `UseDotNet@2` 和 `NuGetToolInstaller` 任務。"

  - name: "建構管線現代化"
    prompt: "產生 .NET 8 遷移的更新建構管線程式碼片段。建議在合併到主分支之前，在功能分支上進行驗證建構。"

  - name: "CI 自動化增強"
    prompt: "識別在 CI 管線中自動化測試和建構驗證的機會。建議持續整合驗證的策略。"

  # 測試與驗證
  - name: "建構驗證策略"
    prompt: "提出驗證檢查，以確保升級後的解決方案成功建構和執行。建議在升級後自動執行單元和整合套件的測試。"

  - name: "服務整合驗證"
    prompt: "產生驗證步驟，以驗證日誌記錄、遙測和服務連線。建議驗證向後相容性和執行時行為的策略。"

  - name: "部署準備檢查"
    prompt: "建議在生產發布之前進行 UAT 部署驗證步驟。為升級後的元件建立全面的測試情境。"

  # 破壞性變更分析
  - name: "API 棄用偵測"
    prompt: "識別目標版本之間已棄用的 API 或已移除的命名空間。建議使用 `.NET Upgrade Assistant` 和 API Analyzer 進行自動掃描。"

  - name: "API 替換策略"
    prompt: "建議針對已知破壞性區域的替換 API 或函式庫。檢閱配置變更，例如 `Startup.cs` → `Program.cs` 重構。"

  - name: "回歸測試重點"
    prompt: "建議針對升級後的 API 端點或服務的回歸測試情境。為關鍵功能驗證建立測試計畫。"

  # 版本控制與提交策略
  - name: "分支策略規劃"
    prompt: "建議用於安全升級並具有回溯能力的程式碼分支策略。為部分和完整專案升級產生提交範本。"

  - name: "PR 結構最佳化"
    prompt: "建議建立結構化 PR (`Upgrade to .NET [Version]`) 的最佳實踐。識別涉及破壞性變更的 PR 的標記策略。"

  - name: "程式碼檢閱準則"
    prompt: "建議同行檢閱的重點領域 (建構、測試和依賴項驗證)。為有效的升級檢閱建立檢查清單。"

  # 文件與溝通
  - name: "升級文件策略"
    prompt: "建議如何在 PR 中記錄每個專案的框架變更。提出自動發布說明產生，總結升級和測試結果。"

  - name: "利害關係人溝通"
    prompt: "建議向消費者溝通版本升級和遷移時間表。產生依賴項更新和驗證結果的文件範本。"

  - name: "進度追蹤系統"
    prompt: "建議維護升級摘要儀表板或 Markdown 檢查清單。為跨多個專案追蹤升級進度建立範本。"

  # 工具與自動化
  - name: "升級工具選擇"
    prompt: "建議何時以及如何使用：`.NET Upgrade Assistant`、`dotnet list package --outdated`、`dotnet migrate` 和 `graph.json` 依賴項視覺化。"

  - name: "分析指令碼產生"
    prompt: "產生指令碼或提示，用於在升級前分析依賴項圖。提出 AI 輔助提示，讓 Copilot 自動識別升級問題。"

  - name: "多儲存庫驗證"
    prompt: "建議如何驗證跨多個儲存庫的自動化輸出。為企業級升級建立標準化驗證工作流程。"

  # 最終驗證與交付
  - name: "最終解決方案驗證"
    prompt: "產生驗證步驟，以確認最終升級的解決方案通過所有驗證檢查。建議升級後生產部署驗證步驟。"

  - name: "部署準備確認"
    prompt: "建議產生最終測試結果和建構成品。建立總結跨專案完成情況的檢查清單 (建構/測試/部署)。"

  - name: "發布文件"
    prompt: "產生總結框架變更和 CI/CD 更新的發布說明。建立全面的升級摘要文件。"

---
