---
description: "用於為儲存庫生成 AGENTS.md 檔案的提示"
agent: "agent"
---

# 建立高品質的 AGENTS.md 檔案

您是一個程式碼代理。您的任務是在此儲存庫的根目錄中建立一個完整、準確的 AGENTS.md 檔案，該檔案遵循 https://agents.md/ 上的公開指南。

AGENTS.md 是一種開放格式，旨在為程式碼代理提供有效處理專案所需的上下文和說明。

## 什麼是 AGENTS.md？

AGENTS.md 是一個 Markdown 檔案，它充當「代理的 README」——一個專用、可預測的位置，用於提供上下文和說明，以幫助 AI 程式碼代理處理您的專案。它補充了 README.md，其中包含程式碼代理所需的詳細技術上下文，但這些上下文可能會使以人為中心的 README 變得混亂。

## 主要原則

- **以代理為中心**：包含自動化工具的詳細技術說明
- **補充 README.md**：不取代人類文件，但增加了代理特定的上下文
- **標準化位置**：放置在儲存庫根目錄（或單一儲存庫的子專案根目錄）
- **開放格式**：使用標準 Markdown 和靈活的結構
- **生態系統相容性**：適用於 20 多種不同的 AI 程式碼工具和代理

## 檔案結構和內容指南

### 1. 必要設定

- 在儲存庫根目錄中建立 `AGENTS.md` 檔案
- 使用標準 Markdown 格式
- 沒有必填欄位 - 根據專案需求靈活的結構

### 2. 應包含的基本部分

#### 專案概覽

- 專案功能的簡要說明
- 如果複雜，則為架構概覽
- 使用的關鍵技術和框架

#### 設定命令

- 安裝說明
- 環境設定步驟
- 依賴項管理命令
- 如果適用，則為資料庫設定

#### 開發工作流程

- 如何啟動開發伺服器
- 建置命令
- 監看/熱重載設定
- 套件管理器特定資訊（npm、pnpm、yarn 等）

#### 測試說明

- 如何執行測試（單元、整合、端到端）
- 測試檔案位置和命名約定
- 覆蓋率要求
- 使用的特定測試模式或框架
- 如何執行測試子集或專注於特定區域

#### 程式碼風格指南

- 語言特定約定
- Linting 和格式化規則
- 檔案組織模式
- 命名約定
- 導入/導出模式

#### 建置和部署

- 建置命令和輸出
- 環境配置
- 部署步驟和要求
- CI/CD 管道資訊

### 3. 可選但建議的部分

#### 安全考量

- 安全測試要求
- 秘密管理
- 身份驗證模式
- 權限模型

#### 單一儲存庫說明（如果適用）

- 如何處理多個套件
- 跨套件依賴項
- 選擇性建置/測試
- 套件特定命令

#### 拉取請求指南

- 標題格式要求
- 提交前的必要檢查
- 審查流程
- 提交訊息約定

#### 偵錯和疑難排解

- 常見問題和解決方案
- 日誌模式
- 偵錯配置
- 效能考量

## 範例模板

將此作為起始模板，並根據特定專案進行自訂：

```markdown
# AGENTS.md

## 專案概覽

[專案的簡要說明、其目的和關鍵技術]

## 設定命令

- 安裝依賴項：`[套件管理器] install`
- 啟動開發伺服器：`[命令]`
- 建置生產版本：`[命令]`

## 開發工作流程

- [開發伺服器啟動說明]
- [熱重載/監看模式資訊]
- [環境變數設定]

## 測試說明

- 執行所有測試：`[命令]`
- 執行單元測試：`[命令]`
- 執行整合測試：`[命令]`
- 測試覆蓋率：`[命令]`
- [特定測試模式或要求]

## 程式碼風格

- [語言和框架約定]
- [Linting 規則和命令]
- [格式化要求]
- [檔案組織模式]

## 建置和部署

- [建置過程詳細資訊]
- [輸出目錄]
- [環境特定建置]
- [部署命令]

## 拉取請求指南

- 標題格式：[組件] 簡要說明
- 必要檢查：`[lint 命令]`、`[test 命令]`
- [審查要求]

## 其他注意事項

- [任何專案特定上下文]
- [常見陷阱或疑難排解提示]
- [效能考量]
```

## 來自 agents.md 的工作範例

這是來自 agents.md 網站的真實範例：

```markdown
# 範例 AGENTS.md 檔案

## 開發環境提示

- 使用 `pnpm dlx turbo run where <project_name>` 跳轉到套件，而不是使用 `ls` 掃描。
- 執行 `pnpm install --filter <project_name>` 將套件新增到您的工作區，以便 Vite、ESLint 和 TypeScript 可以看到它。
- 使用 `pnpm create vite@latest <project_name> -- --template react-ts` 啟動一個新的 React + Vite 套件，並準備好 TypeScript 檢查。
- 檢查每個套件的 package.json 中的名稱欄位以確認正確的名稱——跳過頂層的。

## 測試說明

- 在 .github/workflows 資料夾中找到 CI 計劃。
- 執行 `pnpm turbo run test --filter <project_name>` 執行為該套件定義的每個檢查。
- 從套件根目錄，您可以直接呼叫 `pnpm test`。提交應在合併前通過所有測試。
- 要專注於一個步驟，請新增 Vitest 模式：`pnpm vitest run -t "<test name>"`。
- 修復任何測試或類型錯誤，直到整個套件變綠。
- 移動檔案或更改導入後，執行 `pnpm lint --filter <project_name>` 以確保 ESLint 和 TypeScript 規則仍然通過。
- 為您更改的程式碼新增或更新測試，即使沒有人要求。

## PR 說明

- 標題格式：[<project_name>] <標題>
- 在提交前始終執行 `pnpm lint` 和 `pnpm test`。
```

## 實作步驟

1. **分析專案結構** 以了解：

   - 使用的程式語言和框架
   - 套件管理器和建置工具
   - 測試框架
   - 專案架構（單一儲存庫、單一套件等）

2. **透過檢查以下內容來識別關鍵工作流程**：

   - package.json 腳本
   - Makefile 或其他建置檔案
   - CI/CD 配置檔案
   - 文件檔案

3. **建立涵蓋以下內容的綜合部分**：

   - 所有必要的設定和開發命令
   - 測試策略和命令
   - 程式碼風格和約定
   - 建置和部署過程

4. **包含代理可以直接執行的特定、可操作的命令**

5. **透過確保所有命令都按文件記載的方式工作來測試說明**

6. **將重點放在代理需要了解的內容上**，而不是一般的專案資訊

## 最佳實踐

- **具體**：包含確切的命令，而不是模糊的描述
- **使用程式碼區塊**：將命令包裝在反引號中以提高清晰度
- **包含上下文**：解釋為什麼需要某些步驟
- **保持最新**：隨著專案的發展而更新
- **測試命令**：確保所有列出的命令都實際工作
- **考慮巢狀檔案**：對於單一儲存庫，根據需要在庫子專案中建立 AGENTS.md 檔案

## 單一儲存庫考量

對於大型單一儲存庫：

- 在儲存庫根目錄放置一個主要的 AGENTS.md
- 在子專案目錄中建立額外的 AGENTS.md 檔案
- 最接近的 AGENTS.md 檔案優先於任何給定位置
- 包含套件/專案之間的導航提示

## 最終注意事項

- AGENTS.md 適用於 20 多種 AI 程式碼工具，包括 Cursor、Aider、Gemini CLI 等
- 格式有意靈活 - 根據您的專案需求進行調整
- 專注於可操作的說明，幫助代理了解和處理您的程式碼庫
- 這是活文件 - 隨著專案的發展而更新

在建立 AGENTS.md 檔案時，優先考慮清晰度、完整性和可操作性。目標是為任何程式碼代理提供足夠的上下文，使其能夠有效地為專案做出貢獻，而無需額外的人工指導。
