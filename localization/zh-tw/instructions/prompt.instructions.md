---
description: '建立高品質 GitHub Copilot 提示檔案的指南'
applyTo: '**/*.prompt.md'
---

# Copilot 提示檔案指南

建立有效且可維護的提示檔案的指示，以引導 GitHub Copilot 在任何儲存庫中提供一致、高品質的成果。

## 範圍和原則
- 目標受眾：為 Copilot Chat 編寫可重複使用提示的維護者和貢獻者。
- 目標：可預測的行為、清晰的預期、最小的權限以及跨儲存庫的可移植性。
- 主要參考資料：VS Code 關於提示檔案和組織特定慣例的文件。

## Frontmatter 要求
- 包含 `description` (單一句子，可操作的結果)、`mode` (明確選擇 `ask`、`edit` 或 `agent`) 和 `tools` (完成提示所需的最小工具套件)。
- 當提示依賴於特定的功能層級時，宣告 `model`；否則繼承作用中的模型。
- 保留組織所需的任何其他中繼資料 (`language`、`tags`、`visibility` 等)。
- 使用一致的引號 (建議單引號) 並保持每個欄位一行，以提高可讀性和版本控制清晰度。

## 檔案命名和放置
- 使用 kebab-case 檔案名稱，以 `.prompt.md` 結尾，並將它們儲存在 `.github/prompts/` 下，除非您的工作區標準指定了另一個目錄。
- 提供簡短的檔案名稱，以傳達動作 (例如，`generate-readme.prompt.md` 而不是 `prompt1.prompt.md`)。

## 主體結構
- 以與提示意圖相符的 `#` 級標題開頭，以便在快速選取搜尋中良好顯示。
- 以可預測的區段組織內容。建議的基準：`任務` 或 `主要指令`、`範圍與前置條件`、`輸入`、`工作流程` (逐步)、`輸出預期` 和 `品質保證`。
- 調整區段名稱以符合領域，但保留邏輯流程：原因 → 上下文 → 輸入 → 動作 → 輸出 → 驗證。
- 使用相對連結參考相關提示或指示檔案，以幫助發現。

## 輸入和上下文處理
- 對於必要值，請使用 `${input:variableName[:placeholder]}`，並解釋使用者何時必須提供它們。盡可能提供預設值或替代方案。
- 僅在必要時才指出上下文變數，例如 `${selection}`、`${file}`、`${workspaceFolder}`，並描述 Copilot 應如何解釋它們。
- 記錄當缺少強制上下文時如何處理 (例如，「要求檔案路徑，如果仍未定義則停止」)。

## 工具和權限指南
- 將 `tools` 限制為啟用任務的最小集合。當序列很重要時，以首選執行順序列出它們。
- 如果提示從聊天模式繼承工具，請提及該關係並說明任何關鍵工具行為或副作用。
- 警告破壞性操作 (檔案建立、編輯、終端機命令)，並在工作流程中包含防護措施或確認步驟。

## 指示語氣和風格
- 以直接、命令式的句子寫作，目標是 Copilot (例如，「分析」、「產生」、「摘要」)。
- 保持句子簡短且明確，遵循 Google 開發人員文件翻譯最佳實務以支援本地化。
- 避免習語、幽默或文化特定參考；偏好中立、包容的語言。

## 輸出定義
- 指定預期結果的格式、結構和位置 (例如，「使用以下範本建立 `docs/adr/adr-XXXX.md`」)。
- 包含成功準則和失敗觸發器，以便 Copilot 知道何時停止或重試。
- 提供驗證步驟 — 手動檢查、自動化命令或驗收準則清單 — 審閱者可以在執行提示後執行。

## 範例和可重複使用資產
- 嵌入提示應產生或遵循的良好/不良範例或骨架 (Markdown 範本、JSON 存根)。
- 維護內聯參考表 (功能、狀態碼、角色描述)，以保持提示的獨立性。當上游資源變更時，更新這些表。
- 連結到權威文件，而不是重複冗長的指南。

## 品質保證檢查清單
- [ ] Frontmatter 欄位完整、準確且權限最小。
- [ ] 輸入包含佔位符、預設行為和備用。
- [ ] 工作流程涵蓋準備、執行和後處理，沒有間隙。
- [ ] 輸出預期包含格式和儲存詳細資訊。
- [ ] 驗證步驟是可操作的 (命令、差異檢查、審閱提示)。
- [ ] 提示引用的安全性、合規性和隱私權政策是最新的。
- [ ] 提示在 VS Code (`Chat: Run Prompt`) 中使用代表性情境成功執行。

## 維護指南
- 與其影響的程式碼一起進行版本控制提示；當依賴項、工具或審閱流程變更時更新。
- 定期審閱提示，以確保工具清單、模型要求和連結文件保持有效。
- 與其他儲存庫協調：當提示證明廣泛有用時，將通用指南提取到指示檔案或共享提示套件中。

## 其他資源
- [提示檔案文件](https://code.visualstudio.com/docs/copilot/customization/prompt-files#_prompt-file-format)
- [Awesome Copilot 提示檔案](https://github.com/github/awesome-copilot/tree/main/prompts)
- [工具設定](https://code.visualstudio.com/docs/copilot/chat/chat-agent-mode#_agent-mode-tools)
