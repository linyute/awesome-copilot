---
name: scoutqa-test
description: |
  當使用者要求「測試此網站」、「執行探索性測試」、「檢查協助工具問題」、「驗證登入流程是否正常」、「尋找此頁面上的錯誤」或要求自動化 QA 測試時，應使用此技能。針對網頁應用程式測試情境觸發，包括使用 ScoutQA CLI 的煙霧測試、協助工具稽核、電子商務流程和使用者流程驗證。重要提示：在實作網頁應用程式功能後，請主動使用此技能來驗證它們是否正常運作 - 不要等待使用者要求測試。
---

# ScoutQA 測試技能

使用 `scoutqa` CLI 在網頁應用程式上執行 AI 驅動的探索性測試。

**將 ScoutQA 視為一個智慧測試夥伴**，它可以自主探索、發現問題並驗證功能。將測試委派給多個平行的 ScoutQA 執行，以在節省時間的同時最大化涵蓋範圍。

## 何時使用此技能

在兩種情況下使用此技能：

1. **使用者要求測試** - 當使用者明確要求測試網站或驗證功能時
2. **主動驗證** - 在實作網頁功能後，自動執行測試以驗證實作是否正常運作

**主動使用的範例：**
- 實作登入表單後 → 測試驗證流程
- 新增表單驗證後 → 驗證驗證規則和錯誤處理
- 建立結帳流程後 → 測試端到端購買程序
- 修復錯誤後 → 驗證修復是否有效且未破壞其他功能

**最佳實踐**：當你完成實作一個網頁功能時，主動在背景啟動一個 ScoutQA 測試來驗證它是否運作，同時繼續執行其他工作。

## 執行測試

### 測試工作流程

複製此檢查清單並追蹤你的進度：

測試進度：
- [ ] 撰寫具有明確期望的特定測試提示
- [ ] 在背景執行 scoutqa 命令
- [ ] 通知使用者執行 ID 和瀏覽器 URL
- [ ] 擷取並分析結果

**步驟 1：撰寫特定測試提示**

請參閱下方的「撰寫有效的提示」章節以取得指南。

**步驟 2：執行 scoutqa 命令**

**重要提示**：使用 Bash 工具的逾時參數 (5000ms = 5 秒) 來擷取執行詳細資訊：

呼叫 Bash 工具時，將 `timeout: 5000` 設定為參數：
- 這是 Claude Code 中 Bash 工具內建的逾時參數（不是 Unix `timeout` 命令）
- 5 秒後，Bash 工具會傳回一個任務 ID 並繼續在背景執行該程序
- 這與終止程序的 Unix `timeout` 不同 - 在這裡程序會繼續執行
- 前 5 秒會從 ScoutQA 的輸出中擷取執行 ID 和瀏覽器 URL
- 測試會隨背景任務在 ScoutQA 的基礎設施上遠端繼續執行

```bash
scoutqa --url "https://example.com" --prompt "您的測試指令"
```

在最初的幾秒鐘內，命令將輸出：

- **執行 ID** (例如，`019b831d-xxx`)
- **瀏覽器 URL** (例如，`https://scoutqa.ai/t/019b831d-xxx`)
- 顯示測試進度的初始工具呼叫

在 5 秒逾時後，Bash 工具會傳回一個任務 ID，命令會繼續在背景執行。你可以在測試執行期間處理其他工作。逾時僅是為了擷取初始輸出（執行 ID 和瀏覽器 URL） - 測試會在本地作為背景任務以及在 ScoutQA 的基礎設施上遠端繼續執行。

**步驟 3：通知使用者執行 ID 和瀏覽器 URL**

在 Bash 工具傳回任務 ID 後（已在前 5 秒內擷取執行詳細資訊），請通知使用者：
- ScoutQA 執行 ID 和瀏覽器 URL，以便他們可以在瀏覽器中監控進度
- 如果他們稍後想檢查本地命令輸出，請提供背景任務 ID

在你繼續其他工作時，測試會在背景繼續執行。

**步驟 4：擷取並分析結果**

請參閱下方的「呈報結果」章節以取得完整格式。

### 命令選項

- `--url` (必要)：要測試的網站 URL
- `--prompt` (必要)：自然語言測試指令
- `--project-id` (選用)：與專案關聯以進行追蹤

### 何時使用各個命令

**開始新測試？** → 使用 `scoutqa --url --prompt`
**代理程式需要更多內容？** → 使用 `scoutqa send-message`（請參閱「追蹤卡住的執行」）

## 撰寫有效的提示

專注於**要探索和驗證的內容**，而不是規定性的步驟。ScoutQA 會自主決定如何測試。

**範例：使用者註冊流程**

```bash
scoutqa --url "https://example.com" --prompt "
探索使用者註冊流程。測試表單驗證的邊緣案例，
驗證錯誤處理，並檢查協助工具合規性。
"
```

**範例：電子商務結帳**

```bash
scoutqa --url "https://shop.example.com" --prompt "
測試結帳流程。驗證價格計算、購物車持久性、
付款選項和行動裝置回應性。
"
```

**範例：執行平行測試以實現全面涵蓋**

在單個訊息中進行多個 Bash 工具呼叫來平行啟動多個測試，每個呼叫都將 Bash 工具的 `timeout` 參數設定為 `5000` (毫秒)：

```bash
# 測試 1：身分驗證與安全性
scoutqa --url "https://app.example.com" --prompt "
探索身分驗證：登入/登出、工作階段處理、密碼重設，
以及安全性邊緣案例。
"

# 測試 2：核心功能（平行執行）
scoutqa --url "https://app.example.com" --prompt "
測試儀表板和主要使用者工作流程。驗證資料載入、
CRUD 操作和搜尋功能。
"

# 測試 3：協助工具（平行執行）
scoutqa --url "https://app.example.com" --prompt "
進行協助工具稽核：WCAG 合規性、鍵盤導覽、
螢幕閱讀器支援、顏色對比。
"
```

**實作**：發送包含三個 Bash 工具呼叫的單個訊息。對於每個 Bash 工具調用，將 `timeout` 參數設定為 `5000` 毫秒。5 秒後，每個 Bash 呼叫都會傳回一個任務 ID，而程序則繼續在背景執行。這會從初始輸出中的每個測試擷取執行 ID 和瀏覽器 URL，然後所有三個測試會平行繼續執行（既作為本地背景任務，也遠端在 ScoutQA 的基礎設施上）。

**關鍵指南：**

- 描述**要測試什麼**，而不是**如何測試**（ScoutQA 會想出步驟）
- 專注於目標、邊緣案例和疑慮
- 針對不同測試區域執行多個平行執行
- 信任 ScoutQA 能自主探索並發現問題
- 呼叫 scoutqa 命令時，務必將 Bash 工具的 `timeout` 參數設定為 `5000` 毫秒（這會在 5 秒後傳回控制權，同時程序在背景繼續執行）
- 對於平行測試，在單個訊息中進行多個 Bash 工具呼叫
- 記住：Bash 工具逾時 ≠ Unix timeout 命令（Bash 逾時會在背景繼續程序，Unix 逾時會終止程序）

### 常見測試情境

**部署後的煙霧測試：**

```bash
scoutqa --url "$URL" --prompt "
煙霧測試：驗證部署後關鍵功能是否正常。
檢查首頁、導覽、登入/登出和關鍵使用者流程。
"
```

**協助工具稽核：**

```bash
scoutqa --url "$URL" --prompt "
稽核協助工具：WCAG 2.1 AA 合規性、鍵盤導覽、
螢幕閱讀器支援、顏色對比和語義化 HTML。
"
```

**電子商務測試：**

```bash
scoutqa --url "$URL" --prompt "
探索電子商務功能：產品搜尋/篩選、
購物車操作、結帳流程和價格計算。
"
```

**SaaS 應用程式：**

```bash
scoutqa --url "$URL" --prompt "
測試 SaaS 應用程式：身分驗證、儀表板、CRUD 操作、
權限和資料完整性。
"
```

**表單驗證：**

```bash
scoutqa --url "$URL" --prompt "
測試表單驗證：邊緣案例、錯誤處理、必填欄位、
格式驗證和成功提交。
"
```

**行動裝置回應性：**

```bash
scoutqa --url "$URL" --prompt "
檢查行動裝置體驗：回應式佈局、導覽、
觸控互動和視窗行為。
"
```

**功能驗證（實作後）：**

```bash
scoutqa --url "$URL" --prompt "
驗證新的 [功能名稱] 是否正常運作。測試核心功能、
邊緣案例、錯誤處理，以及與現有功能的整合。
"
```

**範例：編寫功能程式碼後的主動測試**

在實作使用者註冊表單後，自動驗證它是否運作：

```bash
scoutqa --url "http://localhost:3000/register" --prompt "
測試新實作的註冊表單。驗證：
- 表單驗證（電子郵件格式、密碼強度、必填欄位）
- 錯誤訊息正確顯示
- 成功的註冊流程
- 邊緣案例（重複的電子郵件、特殊字元等）
"
```

這可以在實作仍在內容中的新鮮狀態下立即捕捉問題。

## 呈報結果

### 立即呈報（開始測試後）

執行 scoutqa 命令後，立即向使用者呈報執行詳細資訊：

```markdown
**ScoutQA 測試已開始**

執行 ID：`019b831d-xxx`
檢視即時狀態：https://scoutqa.ai/t/019b831d-xxx

測試正在遠端執行。在我繼續執行其他工作的同時，你可以在上述連結的瀏覽器中檢視即時進度。
```

### 最終結果（完成後）

執行完成後，使用此格式呈報發現結果：

```markdown
**ScoutQA 測試結果**

執行 ID：`ex_abc123`

**發現的問題：**

[高] 協助工具：標誌影像缺少替代文字

- 影響：螢幕閱讀器無法描述標誌
- 位置：標題導覽

[中] 易用性：提交按鈕在行動裝置視窗上不可見

- 影響：使用者無法在行動裝置上完成表單
- 位置：聯絡表單，頁面底部

[低] 功能：對於有效查詢，搜尋未傳回任何結果

- 影響：搜尋功能似乎已損壞
- 位置：主搜尋列

**摘要：** 在協助工具、易用性和功能類別中發現 3 個問題。請在上述 URL 查看包含螢幕擷取畫面的完整互動式報告。
```

務必包含：

- **執行 ID** (例如，`ex_abc123`) 以供參考
- **發現的問題**，包含嚴重程度、類別（協助工具、易用性、功能）、影響和位置

## 追蹤卡住的執行

如果遠端代理程式卡住或需要澄清，請使用 `send-message` 繼續：

```bash
# 範例：代理程式卡在登入頁面，使用者提供憑證
scoutqa send-message --execution-id ex_abc123 --prompt "
請使用以下測試憑證：使用者名稱：testuser@example.com，密碼：TestPass123
"

# 範例：代理程式詢問接下來要測試哪個流程
scoutqa send-message --execution-id ex_abc123 --prompt "
接下來請專注於結帳流程，跳過願望清單功能
"
```

## 檢查測試結果

ScoutQA 測試在 ScoutQA 的基礎設施上遠端執行。在啟動測試並設定短暫逾時以擷取執行 ID 後：

1. 測試會繼續遠端執行（而非在本地背景執行）
2. 你可以立即繼續其他工作
3. 若要稍後檢查結果，請造訪測試啟動時提供的瀏覽器 URL
4. 或者，使用 `scoutqa get-execution --execution-id <id>` 透過 CLI 獲取結果

**最佳實踐**：藉由將 Bash 工具的 `timeout` 參數設定為 `5000` 毫秒來啟動測試。5 秒後，Bash 工具會傳回一個任務 ID 以及執行詳細資訊（執行 ID 和瀏覽器 URL），同時測試在背景繼續執行。接著你可以繼續執行其他工作，並在需要時在 ScoutQA 的網站或透過 CLI 檢查結果。

## 疑難排解

| 問題 | 解決方案 |
| ---------------------------- | -------------------------------------------------- |
| `找不到命令：scoutqa` | 安裝 CLI：`npm i -g @scoutqa/cli@latest` |
| 驗證已過期 / 未經授權 | 執行 `scoutqa auth login` |
| 測試掛起或需要輸入 | 使用 `scoutqa send-message --execution-id` |
| 檢查測試結果 | 造訪瀏覽器 URL 或 `scoutqa get-execution --execution-id` |
